<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KARAYA</title>
  <link rel="stylesheet" href="/profile.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body>
  <%- include('../partials/header') %>

  <div class="dashboard-container">
    <%- include('../partials/sidebar') %>

    <div class="main-profile">
      <div class="profile-header">
        <div class="left-section">
          <div class="profile-photo">
            <img src="/images/profile.jpg" alt="Foto Profil">
            <button class="edit-button">Edit Profil</button>
          </div>
          <div class="profile-info">
            <h2>Kelompok 8 PWEB (Nama)</h2>
            <p>biodata diri (deskripsi)</p>
          </div>
        </div>

        <div class="contact-section">
          <h3>Contact</h3>
          <div class="contact-icons">
            <a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a>
            <a href="#"><i class="fab fa-whatsapp"></i> WhatsApp</a>
            <a href="#"><i class="fab fa-twitter"></i> Twitter</a>
          </div>
        </div>
      </div>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="arsip">Arsip</button>
        <button class="tab-btn" data-tab="draft">Draft</button>
        <button class="tab-btn" data-tab="portofolio">Portofolio</button>
        <button class="tab-btn" data-tab="suka">Suka</button>
      </div>

      <!-- Konten Tab -->
      <div class="tab-content active" id="arsip">Ini adalah konten untuk tab Arsip.</div>
      <div class="tab-content hidden" id="draft">Ini adalah konten untuk tab Draft.</div>

      <div class="portfolio-list hidden" id="portofolio">
        <!-- Konten portofolio akan muncul di sini -->
        <% if (!userPortofolios || userPortofolios.length === 0) { %>
          <p>Belum ada portofolio yang diunggah.</p>
        <% } else { %>
          <% userPortofolios.forEach(p => { %>
            <a href="/portofolio/<%= p.id_portofolio %>" class="portfolio-item">
              <img src="/uploads/<%= p.gambar %>" alt="<%= p.judul %>" width="250">
              <h3><%= p.judul %></h3>
            </a>
          <% }) %>
        <% } %>
      </div>

     <div class="tab-content hidden" id="suka">
  <% if (!likedPortofolios || likedPortofolios.length === 0) { %>
    <p>Kamu belum menyukai portofolio mana pun.</p>
  <% } else { %>
    <div class="portfolio-list">
      <% likedPortofolios.forEach(p => { %>
        <a href="/portofolio/<%= p.id_portofolio %>" class="portfolio-item">
          <img src="/uploads/<%= p.gambar %>" alt="<%= p.judul %>" width="250">
          <h3><%= p.judul %></h3>
        </a>
      <% }) %>
    </div>
  <% } %>
</div>
  </div>

  <script>
    const buttons = document.querySelectorAll(".tab-btn");
    const contents = document.querySelectorAll(".tab-content");
    const portfolioList = document.getElementById('portofolio'); // Menyimpan referensi ke portfolio list

    // Fungsi untuk menampilkan tab yang dipilih dan menyembunyikan yang lain
    function showTab(tabId) {
      // Menyembunyikan semua konten
      contents.forEach(c => {
        c.classList.add("hidden"); // Menyembunyikan semua tab
        c.classList.remove("active");
      });

      // Menyembunyikan portfolio list jika bukan tab portofolio yang dipilih
      if (tabId !== 'portofolio') {
        portfolioList.classList.add("hidden");
      } else {
        portfolioList.classList.remove("hidden");
      }
      
      // Menambahkan kelas aktif ke konten yang dipilih
      document.getElementById(tabId).classList.remove("hidden");
      document.getElementById(tabId).classList.add("active");

      // Menghapus kelas aktif dari semua tombol
      buttons.forEach(b => b.classList.remove("active"));
      
      // Menambahkan kelas aktif ke tombol yang dipilih
      document.querySelector(`[data-tab="${tabId}"]`).classList.add("active");
    }

    buttons.forEach(button => {
      button.addEventListener("click", () => {
        const target = button.getAttribute("data-tab");
        showTab(target); // Menampilkan konten tab yang dipilih
      });
    });

    // Tampilkan tab default (Arsip) saat pertama kali dimuat
    showTab('arsip');
  </script>
</body>
</html>
